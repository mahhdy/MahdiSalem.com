# Problems to Address

## Content Management



### Processed contents should moved to Archive folder

there is ontent-source/archive folder. the processed contents should be moved to this folder after they been Processed and added to site content. they should be added like in a date format yyyymmdd subfolder. if duplicate they should rename the older files. 

### Proccessing and preparing articles and other contents for the site

#### problem 1- Mermaid diagrams are not rendered in the site properly

I see that the Mermaid diagrams are not rendered in the site. I have added the Mermaid diagrams to the documents, but they are not visible on the output site properly visible. 
farsi contents should be wrapped correctly in "" or [""] in mermaid diagrams. so this hsould be checked and applied. 

#### problem 2- the size and width of the diagrams are not correct
some are very limited, some are very big! can this be manageble by the user? so there be a defult sizing (if the diagram is very tall heigh is too much it should not bother user so he / she loose the site content! then the size should be smaller, if the diagram is very wide width is too much) and user can override it if needed. So anyway, user can handle the size and see the content as he /she like, while the beaty and neatness of content of site stayes untouched. 
look: [mermaid-small](public/dev/mermaid-small.png)
look: [mermaid-super-small](public/dev/mermaid-super-small.png)
look: [mermaid-big](public/dev/mermaid-tall.png)
look: [mermaid-big](public/dev/mermaid-bad-tall.png)

#### problem 3- still issue with mixing the mermaid and other html element! please check and fix! 




# to ignore // already done
<details open>
<summary>ignore</summary>
```markdown
### Processing and preparing Books for the sites

~~#### Problem1- Book Contents are not processed! 

in [content-source/books] folder, there are some books that are not processed. I added different type of books in the ways could be presented.
1- Single Latex File [content-source/books/Shadow Political Court for Iran.tex](content-source\books\Shadow Political Court for Iran.tex)
2- Book in a Folder with subfolders and files  [content-source/books/Iran-Transition-Monitoring](content-source\books\Iran-Transition-Monitoring)
3- Book in a Folder with subfolders as zip file [content-source/books/Nations-States.zip](content-source\books\Nations-States.zip)
4- Book as PDF file [content-source/books/Shadow Political Court for Iran.pdf](content-source\books\Shadow Political Court for Iran.pdf)


So the problem is that the books are not processed and added to the site. What I am only seeing is some bunch of folders! 
the conversion should have two phase: 
1- Conversion of the book to mdx files and moving them to src/content/books
2- if PDF file is available (no matter is same folder as book content or same folder as book folder is available, but in same name as the folder name) the pdf file also should be available in the book page. This should be already implemented as we have fronmatters of `pdfUrl: /pdfs/***.pdf` ans `showPdfViewer: true` 

so please check this all. first lets confirm your underestanding of this issue and then go from there. ~~

#### Problem 2- PDF are not attached to book (need Automatic PDF Association)

I see that the PDF files are not attached to the book pages. I have added the PDF files to the book pages, but they are not visible on the book pages. 

Implement a helper to find a related PDF for any book and ensure PDFs are stored in public/documents/books (updating script to be consistent).

so please check this all. first lets confirm your underestanding of this issue and then go from there. 

### change of mind for Book processing! 

lets consider another scenario... it seems the converting books is not possible or feasible. 
lets tottaly forget that. 

optimize the website for displaying books (and article or statements) when they are only pdf files! 
so there should be frontmatter and meta data for them, but what should be displayed in the html page itself is embeded pdf file! 
somethink link fronmatter as pdf-only:true
is this better or not? 
i will separately convert the books to PDF, 
if the site have latex or MDX contents, they shoul donly be visible when pdf-only:false and they don't have error.. 

is this possible or good idea? 

</details>