---
import BaseLayout from '../layouts/BaseLayout.astro';
import { t } from '../i18n';
 
const lang = 'fa';
---
 
<BaseLayout title={t('search.title', lang)} description={t('search.description', lang)}>
  <div class="container-narrow py-16">
    <h1 class="text-3xl md:text-4xl font-bold mb-8">{t('search.title', lang)}</h1>
    <div id="search"></div>
  </div>
</BaseLayout>
 
<link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
<script is:inline src="/pagefind/pagefind-ui.js"></script>
<script is:inline>
  window.addEventListener('DOMContentLoaded', function () {
    new PagefindUI({
      element: '#search',
      showSubResults: true,
      showImages: false,
      translations: {
        placeholder: 'جستجو...',
        clear_search: 'پاک کردن',
        load_more: 'نتایج بیشتر',
        search_label: 'جستجو در سایت',
        filters_label: 'فیلترها',
        zero_results: 'نتیجه‌ای برای [SEARCH_TERM] یافت نشد',
        many_results: '[COUNT] نتیجه برای [SEARCH_TERM]',
        one_result: '[COUNT] نتیجه برای [SEARCH_TERM]',
        alt_search: 'نتیجه‌ای برای [SEARCH_TERM] یافت نشد. آیا منظور شما [DIFFERENT_TERM] بود؟',
        search_suggestion: 'شاید نتایج زیر مرتبط باشند:',
        searching: 'در حال جستجو برای [SEARCH_TERM]...',
      }
    });
  });
</script>
 
<style is:global>
  :root {
    --pagefind-ui-scale: 1;
    --pagefind-ui-primary: #1a5f7a;
    --pagefind-ui-text: #1a1a1a;
    --pagefind-ui-background: #ffffff;
    --pagefind-ui-border: #e5e7eb;
    --pagefind-ui-tag: #f5f5f5;
    --pagefind-ui-border-width: 1px;
    --pagefind-ui-border-radius: 12px;
    --pagefind-ui-font: 'Vazirmatn', 'Inter', system-ui, sans-serif;
  }
  .dark {
    --pagefind-ui-primary: #2980b9;
    --pagefind-ui-text: #e2e8f0;
    --pagefind-ui-background: #0f172a;
    --pagefind-ui-border: #334155;
    --pagefind-ui-tag: #1e293b;
  }
</style>
